<!DOCTYPE html>
<html lang="en" xmlns:th="https://thymeleaf.org"
	th:replace="~{base::layout(~{::section})}">
<head>
<meta charset="UTF-8">
<title>Login page</title>



</head>
<body>
	<section class="section"
		style="background: linear-gradient(90deg, hsla(189, 92%, 69%, 0.6) 0%, hsla(335, 89%, 66%, 0.6) 50%, hsla(240, 63%, 57%, 0.6) 100%), url('/img/login.jpg'); background-repeat: no-repeat; background-size: cover;">

		<div class="container ">
			<div class="row ">
				<div class="col-md-6 offset-md-3">
					<div class="card"
						style="box-shadow: 4px 4px 12px white; background: linear-gradient(90deg, hsla(197, 14%, 57%, 0.6) 0%, hsla(192, 17%, 94%, 0.6) 100%); box-shadow: 4px 4px 12px white; border-radius: 10px;">
						<div class="card-header bg-info text-white text-center">
							<h2>LOGIN FORM</h2>
							<hr />
							<th:block th:if="${param.error}">
								<div class=" text-center text-white"
									th:classappend="${param.error}?'d-block':'d-none'">
									<h4 id="error"
										th:text="${session.SPRING_SECURITY_LAST_EXCEPTION.message}"></h4>
								</div>
							</th:block>
							<th:block th:if="${param.lockedError}">
								<div class="text-center text-white">
									<h4 id="error" th:text="${param.lockedError}"></h4>
								</div>
							</th:block>
							<th:block th:if="${param.accessError}">
								<div class="text-center text-white">
									<h4 id="error" th:text="${param.accessError}"></h4>
								</div>
							</th:block>
							<th:block th:if="${param.logout}">
								<div class="text-white text-center">
									<h4>You have been successfully logged out!</h4>


								</div>
							</th:block>
							<th:block th:if="${param.authError=='true'}">
								<div class="text-white text-center">
									<h4>You have not authority to view this page!</h4>


								</div>
							</th:block>
							<h2 id="unlockMessage"></h2>
							<th:block th:if="${session.success}">
								<div class="text-success text-center">
									<h2 th:text="${session.success}"></h2>
								</div>
							</th:block>
							<th:block th:if="${session.error}">
								<div class="text-success text-center">
									<h2 th:text="${session.error}"></h2>
								</div>
							</th:block>

							<th:block
								th:text="${@removeSessionUtils.removeSessionAttribute()}">
							</th:block>
						</div>





						<div class="card-body text-center">

							<form action="authenticate" method="post">

								<div class="text-center">

									<span class="h1 fw-bold mb-0 text-center"><img
										src="img/logo.jpg"
										class="d-inline-block align-text-top img-fluid logo"></span>
								</div>



								<div data-mdb-input-init class="form-outline mb-4">
									<label class="form-label" for="form2Example17">Email
										address</label> <input type="email" id="email" name="username"
										class="form-control form-control-lg" autocomplete="name" /> <span
										id="email-error" class="error"></span>
								</div>


								<div class="form-outline mb-4">
									<label class="form-label" for="LoginPassword">Password</label>
									<div class="input-group">
										<input type="password" id=""
											class="form-control form-control-lg LoginPassword"
											name="password" autocomplete="password " /> <span
											class="input-group-text PasswordIcon" id=""
											style="cursor: pointer; width: 3rem; text-align: center;">
											<i class="fas fa-eye"></i>
										</span>


									</div>
									<span id="password-error" class="error"></span>
								</div>
								<div class="form-check">
									<input class="form-check-input" type="checkbox"
										id="remember-me" name="remember-me"> <label
										class="form-label" for="remember-me"> Remember me </label>
								</div>

								<div class="pt-1 mb-4">
									<button class="btn btn-dark btn-lg btn-block w-100"
										type="submit">Login</button>

								</div>
								<a href="/oauth2/authorization/google"
									class="login-with-google-btn w-100 btn btn-danger text-center">
									Sign in with Google</a><br> <a class="small text-muted"
									href="/forgotPassword">Forgot password?</a>
								<p class="mb-5 pb-lg-2" style="color: #393f81;">
									Don't have an account? <a href="register"
										style="color: #393f81;">Register here</a>
								</p>
								<a href="#!" class="small text-muted">Terms of use.</a> <a
									href="#!" class="small text-muted">Privacy policy</a>
							</form>

						</div>
					</div>
				</div>
			</div>
		</div>


	</section>

</body>
<script>
	$(document).ready(function() {
		$("form").submit(function(event) {
			event.preventDefault();
			alert("Submit prevented");
		});
	});
</script>

</html>